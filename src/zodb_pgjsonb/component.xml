<component prefix="zodb_pgjsonb.config">

  <import package="ZODB"/>

  <sectiontype name="pgjsonb" implements="ZODB.storage"
      datatype=".PGJsonbStorageFactory">

    <key name="dsn" required="yes">
      <description>
        PostgreSQL connection string (libpq format).
        Example: dbname=zodb user=zodb password=zodb host=localhost port=5433
      </description>
    </key>

    <key name="name" default="pgjsonb">
      <description>Storage name (used in sort keys).</description>
    </key>

    <key name="history-preserving" datatype="boolean" default="false">
      <description>Enable history-preserving mode.</description>
    </key>

    <key name="blob-temp-dir" required="no">
      <description>
        Directory for temporary blob files. Auto-created if omitted.
      </description>
    </key>

    <key name="cache-local-mb" datatype="integer" default="64">
      <description>
        Size of the per-instance object cache in megabytes.
        Caches load() results (pickle bytes) to avoid repeated
        PostgreSQL round-trips and JSONB transcoding. Set to 0
        to disable. Default: 64.
      </description>
    </key>

    <key name="pool-size" datatype="integer" default="1">
      <description>
        Minimum number of connections in the instance connection pool.
        Set to 0 for on-demand creation. Default: 1.
      </description>
    </key>

    <key name="pool-max-size" datatype="integer" default="10">
      <description>
        Maximum number of connections in the instance connection pool.
        Default: 10.
      </description>
    </key>

  </sectiontype>

</component>
